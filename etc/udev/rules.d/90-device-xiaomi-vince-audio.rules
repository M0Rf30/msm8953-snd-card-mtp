# This udev rule is a workaround, udev doesn't care about the headphone jack input events :(
# We need a better workaround, perhaps a daemon for jack detection?

# Init
ATTRS{id}=="msm8953sndcardm", RUN+="/usr/bin/alsaucm -c msm8953-snd-card-mtp set _verb HiFi set _enadev Speaker"

# Jack detection
SUBSYSTEM=="switch",ATTRS{state}=="[1-4]",RUN+="/usr/bin/alsaucm -c msm8953-snd-card-mtp set _verb HiFi set _enadev Headphones"
SUBSYSTEM=="switch",ATTRS{state}=="0",RUN+="/usr/bin/alsaucm -c msm8953-snd-card-mtp set _verb HiFi set _enadev Speaker"
